<mujoco model="ur5e">
  <compiler angle="radian" meshdir="assets" autolimits="true"/>
  <option integrator="Euler" timestep="0.01" iterations="10" tolerance="1e-10" impratio="20"/>

  <default>
    <default class="ur5e">
      <material specular="0.5" shininess="0.25"/>
      <joint axis="0 1 0" range="-6.28319 6.28319" armature="0.1" damping='200'/>
      <default class="GRIPPER">
        <joint damping='5'/>
      </default>

      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="collision">
        <geom type="capsule" group="3"/>
        <default class="eef_collision">
          <geom type="cylinder"/>
        </default>
      </default>
      <site size="0.001" rgba="0.5 0.5 0.5 0.3" group="4"/> <!--0.3-->
    </default>
  </default>

  <asset>
    <material class="ur5e" name="black" rgba="0.033 0.033 0.033 1"/>
    <material class="ur5e" name="jointgray" rgba="0.278 0.278 0.278 1"/>
    <material class="ur5e" name="linkgray" rgba="0.82 0.82 0.82 1"/>
    <material class="ur5e" name="urblue" rgba="0.49 0.678 0.8 1"/>

    <mesh file="base_0.obj"/>
    <mesh file="base_1.obj"/>
    <mesh file="shoulder_0.obj"/>
    <mesh file="shoulder_1.obj"/>
    <mesh file="shoulder_2.obj"/>
    <mesh file="upperarm_0.obj"/>
    <mesh file="upperarm_1.obj"/>
    <mesh file="upperarm_2.obj"/>
    <mesh file="upperarm_3.obj"/>
    <mesh file="forearm_0.obj"/>
    <mesh file="forearm_1.obj"/>
    <mesh file="forearm_2.obj"/>
    <mesh file="forearm_3.obj"/>
    <mesh file="wrist1_0.obj"/>
    <mesh file="wrist1_1.obj"/>
    <mesh file="wrist1_2.obj"/>
    <mesh file="wrist2_0.obj"/>
    <mesh file="wrist2_1.obj"/>
    <mesh file="wrist2_2.obj"/>
    <mesh file="wrist3.obj"/>
  </asset>

  <worldbody>
    <light name="spotlight" mode="targetbodycom" target="wrist_1_link" pos="0 -1 2"/>
    <!--body name="base" pos="0 0 0.74" quat=" 1 0 0 0" childclass="ur5e" quat=" 0 0 0 1"-->
    <body name="base" pos="0 0 0"  childclass="ur5e"> 
      <inertial mass="4.0" pos="0 0 0" diaginertia="0.00443333156 0.00443333156 0.0072"/>
      <geom mesh="base_0" material="black" class="visual"/>
      <geom mesh="base_1" material="jointgray" class="visual"/>
      <body name="shoulder_link" pos="0 0 0.163">
        <inertial mass="3.761" pos="0 0.00193 -0.02561" diaginertia="0.0102675 0.0102675 0.00666"/> <!--base joint-->
        <joint name="joint1" class="ur5e" axis="0 0 1" limited="true" range="-3.14159 3.14159"/>
        <geom mesh="shoulder_0" material="urblue" class="visual"/>
        <geom mesh="shoulder_1" material="black" class="visual"/>
        <geom mesh="shoulder_2" material="jointgray" class="visual"/>
        <geom class="collision" size="0.06 0.06" pos="0 0 -0.04"/>
        <body name="upper_arm_link" pos="0 0.138 0" quat="1 0 1 0"> <!--90 deg about y-->
          <inertial mass="8.058" pos="0 -0.02464 0.2125"  diaginertia="0.133886 0.133886 0.0151074"/>
          <joint name="joint2" class="ur5e" limited="true" range="-3.14159 3.14159"/>
          <geom mesh="upperarm_0" material="linkgray" class="visual"/>
          <geom mesh="upperarm_1" material="black" class="visual"/>
          <geom mesh="upperarm_2" material="jointgray" class="visual"/>
          <geom mesh="upperarm_3" material="urblue" class="visual"/>
          <geom class="collision" pos="0 -0.04 0" quat="1 1 0 0" size="0.06 0.06"/>
          <geom class="collision" size="0.05 0.2" pos="0 0 0.2"/>
          <body name="forearm_link" pos="0 -0.131 0.425">
            <inertial mass="2.846" pos="0 0.0195 0.2422" diaginertia="0.0311796 0.0311796 0.004095"/>
            <joint name="joint3" class="ur5e" limited="true" range="-3.14159 3.14159" />
            <geom mesh="forearm_0" material="urblue" class="visual"/>
            <geom mesh="forearm_1" material="linkgray" class="visual"/>
            <geom mesh="forearm_2" material="black" class="visual"/>
            <geom mesh="forearm_3" material="jointgray" class="visual"/>
            <geom class="collision" pos="0 0.08 0" quat="1 1 0 0" size="0.055 0.06"/>
            <geom class="collision" size="0.038 0.19" pos="0 0 0.2"/>
            <body name="wrist_1_link" pos="0 0 0.392" quat="1 0 1 0"> <!--90 deg about y-->
              <inertial mass="0.000001" pos="0 0 0" diaginertia="0.0025599 0.0025599 0.0021942"/>
              <joint name="joint4" class="ur5e" limited="true" range="-3.14159 3.14159" />
              <geom mesh="wrist1_0" material="black" class="visual"/>
              <geom mesh="wrist1_1" material="urblue" class="visual"/>
              <geom mesh="wrist1_2" material="jointgray" class="visual"/>
              <geom class="collision" pos="0 0.05 0" quat="1 1 0 0" size="0.04 0.07"/>
              <!--extra frame to align wrist_1_link body frame with link 4 dh parameter frame-->
              <body name="ee_link1" pos="0 0.127 0" > <!--from center of link 2 to center of link3. 0.133(dh)-0.0265 (1/2 link thickness)-->
                  <inertial pos="0 -0.0018 0.01634" mass="1.37" diaginertia="1.66667e-08 1.66667e-08 1.66667e-08" />
                  <geom size="0.005 0.005 0.005" pos="-0.01 0 0" type="box" />
                    <!--upper UR5e-->
                    <body name="base2" pos="0 0 0" > 
                    <inertial mass="0.0" pos="0 0 0" diaginertia="0.00443333156 0.00443333156 0.0072"/>
                    <geom mesh="base_0" material="black" class="visual"/>
                    <geom mesh="base_1" material="jointgray" class="visual"/>
                    <body name="shoulder_link2" pos="0 0 0.163">
                      <inertial mass="3.761" pos="0 0.00193 -0.02561" diaginertia="0.0102675 0.0102675 0.00666"/>
                      <joint name="joint5" class="ur5e" axis="0 0 1" limited="true" range="-3.14159 3.14159"/>
                      <geom mesh="shoulder_0" material="urblue" class="visual"/>
                      <geom mesh="shoulder_1" material="black" class="visual"/>
                      <geom mesh="shoulder_2" material="jointgray" class="visual"/>
                      <geom class="collision" size="0.06 0.06" pos="0 0 -0.04"/>
                      <body name="upper_arm_link2" pos="0 0.138 0" quat="1 0 1 0"> <!-- 90 about y-->
                        <inertial mass="8.058" pos="0 -0.02464 0.2125" diaginertia="0.133886 0.133886 0.0151074"/>
                        <joint name="joint6" class="ur5e" limited="true" range="-3.14159 3.14159"/>
                        <geom mesh="upperarm_0" material="linkgray" class="visual"/>
                        <geom mesh="upperarm_1" material="black" class="visual"/>
                        <geom mesh="upperarm_2" material="jointgray" class="visual"/>
                        <geom mesh="upperarm_3" material="urblue" class="visual"/>
                        <geom class="collision" pos="0 -0.04 0" quat="1 1 0 0" size="0.06 0.06"/>
                        <geom class="collision" size="0.05 0.2" pos="0 0 0.2"/>
                        <body name="forearm_link2" pos="0 -0.131 0.425">
                          <inertial mass="2.846" pos="0 0.0195 0.2422" diaginertia="0.0311796 0.0311796 0.004095"/>
                          <joint name="joint7" class="ur5e" limited="true" range="-3.14159 3.14159" />
                          <geom mesh="forearm_0" material="urblue" class="visual"/>
                          <geom mesh="forearm_1" material="linkgray" class="visual"/>
                          <geom mesh="forearm_2" material="black" class="visual"/>
                          <geom mesh="forearm_3" material="jointgray" class="visual"/>
                          <geom class="collision" pos="0 0.08 0" quat="1 1 0 0" size="0.055 0.06"/>
                          <geom class="collision" size="0.038 0.19" pos="0 0 0.2"/>
                          <body name="wrist_1_link2" pos="0 0 0.392" quat="1 0 1 0"> <!--90 y-->
                            <inertial mass="0.000001" pos="0 0 0"  diaginertia="0.0025599 0.0025599 0.0021942"/>
                            <joint name="joint8" class="ur5e" limited="true" range="-3.14159 3.14159" />
                            <geom mesh="wrist1_0" material="black" class="visual"/>
                            <geom mesh="wrist1_1" material="urblue" class="visual"/>
                            <geom mesh="wrist1_2" material="jointgray" class="visual"/>
                            <geom class="collision" pos="0 0.05 0" quat="1 1 0 0" size="0.04 0.07"/>
                            <body name="wrist_2_link2" pos="0 0.127 0">
                              <inertial mass="1.37" pos="0 -0.0018 0.01634" diaginertia="0.0025599 0.0025599 0.0021942"/>
                              <joint name="joint9" axis="0 0 1" class="ur5e" limited="true" range="-3.14159 3.14159" />
                              <geom mesh="wrist2_0" material="black" class="visual"/>
                              <geom mesh="wrist2_1" material="urblue" class="visual"/>
                              <geom mesh="wrist2_2" material="jointgray" class="visual"/>
                              <geom class="collision" size="0.04 0.06" pos="0 0 0.04"/>
                              <geom class="collision" pos="0 0.02 0.1" quat="1 1 0 0" size="0.04 0.04"/>
                              <body name="wrist_3_link2" pos="0 0 0.1"> 
                                <inertial mass="1.3" pos="0 0.01634 0.0018" quat="1 0 0 1"
                                  diaginertia="0.000132134 9.90863e-05 9.90863e-05"/>
                                <joint name="joint10" class="ur5e" limited="true" range="-3.14159 3.14159" />
                                <geom material="linkgray" mesh="wrist3" class="visual"/>
                                <geom class="eef_collision" pos="0 0.08 0" quat="1 1 0 0" size="0.04 0.02"/>
                                <!--joint 6 frame from DH -->
                                <body name="ee_link2" pos="0 0.0996 0" quat="0.707107 -0.707107 0 0" > 
                                  <inertial pos="0 0 -0.001159" mass="0.365"  diaginertia="1.66667e-08 1.66667e-08 1.66667e-08" />
                                  <geom size="0.005 0.005 0.005" pos="-0.01 0 0" type="box" />
                                  <!--"toolframe" can be added here-->


                              </body>
                            </body>
                          </body>
                        </body>
                      </body>
                    </body>
                  </body>
                </body>

              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!--sensor> CHANGE TO MOTOR WHEN DOING TORQUE CONTROL </sensor-->
  <actuator>      <!--        ctrl input clamp........................        -->
    <motor name='actuator1'  joint="joint1" />
    <motor name='actuator2' joint="joint2" />
    <motor name='actuator3' joint="joint3" />
    <motor name='actuator4' joint="joint4" />
    <motor name='actuator5' joint="joint5" />
    <motor name='actuator6' joint="joint6" />
    <motor name='actuator7' joint="joint7" />
    <motor name='actuator8' joint="joint8" />
    <motor name='actuator9' joint="joint9" />
    <motor name='actuator10' joint="joint10" />

  </actuator>

  <!--sensor>
		
		<framepos name="UR/EE_pos" objtype="site" objname="UR/EE" />
		<framequat name="UR/EE_quat" objtype="site" objname="UR/EE" />
		
		<force name="TcpF" site="UR/EE" />
		<torque name="TcpT" site="UR/EE"/>
  </sensor-->



</mujoco>
